---
layout: post
date:   2014-01-28 09:00:05
title:  "5. Backup MySQL DB to Amazon S3"
categories: "tutorial mysql s3"
---

# Local MySQL backed up to S3

Same INI setting can be used as in [Backup MySQL DB to directory] [1] with only difference being engine.remote setting. See below example for details

[1]: /xtbackup/tutorial/mysql/file/mysql-to-file.html "Backup MySQL DB to directory"

{% highlight ini linenos %}

storage.s3.bucket=<Amazon S3 bucket name>

;storage.s3.key.access=<access key>
;storage.s3.key.secret=<secret>

storage.s3.update=true

; set engines
engine.outputs[]=cli
engine.local=mysql
engine.remote=s3
engine.compare=sqlite
{% endhighlight %}

line 1: set your S3 bucked that will be used for this backup

line 3-4:
Generate "Access Keys" in Security Credentials in [your AWS console](https://aws-portal.amazon.com/gp/aws/developer/account/)  
This needs to be filled in if you want ot use s3 as storage, however preferred way is to use private INI file
that can be stored in the more secure folder with limited access. That way you can avoid accidentally committing
your AWS credentials to potentially public repositories and losing $$$ in the process [http://pulse.me/s/13oajD](http://pulse.me/s/13oajD).  
So if you do not use separate INI file please uncomment this lines and fill in credentials.

line 8: should upload/remove of data be executed? (yes/no/simulate)   
    yes -      will transfer data to S3  
    no -       will not start update process  
    simulate - will output progress, but will not really transfer data

line 11: set remote storage to s3 
