---
layout: post
title:  "3. Files to Amazon S3"
date:   2014-01-28 09:00:03
categories: tutorial files s3
---

[Basic]({% post_url 2014-01-28-basic %})

An example where we mirror `local` directory to `S3 bucket`.

This configuration will backup/mirror our pictures from user home folder `~/Pictures` to Amazon S3 storage. 
If you want to retain multiple version of files you should setup versioning for you bucket.

{% highlight ini linenos %}

storage.filesystem.basedir=~/Pictures

storage.s3.bucket=<Amazon S3 bucket name>

;storage.s3.key.access=<access key>
;storage.s3.key.secret=<secret>

storage.s3.update=yes

compare.sqlite.file=~/xtbackup.db

engine.outputs[]=cli
engine.local=filesystem
engine.remote=s3
engine.compare=sqlite
{% endhighlight %}

See previous examples for lines that are not explained.

line 3: set your S3 bucked that will be used for this backup

line 5 and 6:
Generate "Access Keys" in Security Credentials in [your AWS console](https://aws-portal.amazon.com/gp/aws/developer/account/)  
This needs to be filled in if you want ot use s3 as storage, however preferred way is to use private INI file
that can be stored in the more secure folder with limited access. That way you can avoid accidentally committing
your AWS credentials to potentially public repositories and losing $$$ in the process [http://pulse.me/s/13oajD](http://pulse.me/s/13oajD).  
So if you do not use separate INI file please uncomment this lines and fill in credentials.

line 8: should upload/remove of data be executed? (yes/no/simulate)   
    yes -      will transfer data to S3  
    no -       will not start update process  
    simulate - will output progress, but will not really transfer data